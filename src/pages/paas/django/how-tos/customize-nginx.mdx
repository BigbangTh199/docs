import Layout from "@/components/Layout";
import Button from "@/components/Common/button";
import Section from "@/components/Common/section";
import Alert from "@/components/Common/alert";
import Tabs from "@/components/Common/tab";
import Step from "@/components/Common/step";
import Card from "@/components/Common/card";
import Important from "@/components/Common/important";
import Highlight from "react-highlight";
import Link from "next/link";
import NextPage from "@/components/Common/nextpage";

<Layout>
# تنظیم Nginx در برنامه‌های Django
<hr className="mb-2" />

<a href="https://nginx.org/en/" className="blue-link">NGINX</a> یک سرور وب قدرتمند و چندمنظوره است که برای ارائه وب، پروکسی معکوس، کش HTTP، و حتی به عنوان یک لود بالانسر استفاده می‌شود. این سرور به دلیل عملکرد بالا، مقیاس‌پذیری و کارایی در مدیریت ترافیک وب، بسیار محبوب است.

در برنامه‌های Django لیارا، از وب‌سرور Nginx استفاده می‌شود و پیکربندی پیش‌فرض این وب‌سرور به‌شکل زیر است:

<div className="h-2" />
<div dir="ltr">
<Highlight className='conf'>
{`client_max_body_size 100M;

location /media {
  alias /usr/src/app/media;
}

location /static {
  alias /usr/src/app/staticfiles;
}

location / {
  try_files /dev/null @django_app;
}

location ~\\.sqlite3$ {
  deny all;
  error_page 403 =404 /;
}

location ~ /\\.well-known {
  allow all;
}`}
</Highlight>
</div>
<div className="h-2" />

حال شما می‌توانید یک فایل به نام <Important>liara_nginx.conf</Important>در مسیر اصلی پروژه‌ی خود ایجاد کرده و پیکربندی وب‌سرور Nginx را متناسب با نیاز خود تغییر دهید. 

سپس، کافیست تا برنامه خود را، مجدداً در لیارا مستقر کنید تا تنظیمات مدنظرتان، اعمال بشود.

<Section id="enable-gzip" title="فعال‌سازی قابلیت gzip" />
قابلیت gzip در NGINX برای فشرده‌سازی محتوا قبل از ارسال آن به مرورگر کاربران استفاده می‌شود. این کار باعث کاهش حجم داده‌های منتقل‌شده و در نتیجه کاهش زمان بارگذاری صفحات وب می‌شود، که می‌تواند به بهبود عملکرد کمک کند.
برای فعال‌کردن قابلیت gzip می‌توانید قطعه کد زیر را در فایل <Important>liara_nginx.conf</Important> وارد کنید:

<div className="h-2" />
<div dir="ltr">
<Highlight className='conf'>
{`gzip             on;
gzip_disable     "msie6";
gzip_vary        on;
gzip_proxied     any;
gzip_comp_level  6;
gzip_types       text/plain text/css application/json application/javascript application/x-javascript text/xml application/xml application/xml+rss text/javascript image/svg+xml;

client_max_body_size 100M;

location /media {
  alias /usr/src/app/media;
}

location /static {
  alias /usr/src/app/staticfiles;
}

location / {
  try_files /dev/null @django_app;
}

location ~\\.sqlite3$ {
  deny all;
  error_page 403 =404 /;
}

location ~ /\\.well-known {
  allow all;
}`}
</Highlight>
</div>
<div className="h-2" />


<NextPage next="./use-queues" />
</Layout>