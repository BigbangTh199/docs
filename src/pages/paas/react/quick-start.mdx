import Layout from "@/components/Layout";
import Button from "@/components/Common/button";
import Section from "@/components/Common/section";
import Alert from "@/components/Common/alert";
import Tabs from "@/components/Common/tab";
import Step from "@/components/Common/step";
import Card from "@/components/Common/card";
import Important from "@/components/Common/important";
import Highlight from "@/components/Common/highlight";
import Link from "next/link";

import Head from "next/head";

<Layout>
<Head>
<title>مستندات استقرار سریع برنامه‌های React - لیارا</title>
</Head>
<hr className="mb-2" />

توجه داشته باشید؛ تنها برنامه‌هایی که با <Important>Vite</Important> و یا <Important>create-react-app</Important> ساخته شده باشند، در پلتفرم React لیارا قابل اجرا خواهند بود.

<Tabs 
  tabs={["Liara Console", "Liara CLI"]} 
  content={[
  <>
  <video
  src="https://files.liara.ir/liara/react/react-desktop.mp4"
  controls="controls"
  className="block w-full"
  width="100%"
  ></video>
  <div className="h-2" />
  برای استقرار با استفاده از ابزار <Link className="blue-link" href="/references/user-panel/about">Liara Console</Link> کافیست تا مراحل زیر را طی کنید:
  <Step  steps={[
{
  step: "۱",
  content: (
  <>
    <h3>ورود به حساب کاربری</h3>   
    <p>وارد <Link className="blue-link" href="https://console.liara.ir">کنسول لیارا</Link> شوید و با وارد کردن ایمیل یا شماره همراه ثبت شده، به اکانت خود در لیارا، لاگین کنید.</p>
  </>
  )
  },
  {
  step: "۲",
  content: (
  <>
    <h3>ایجاد برنامه</h3>
    <p>برنامه React خود را با شناسه، <Link className="blue-link" href="../details/private-network">شبکه خصوصی</Link> و <Link className="blue-link" href="../details/plans/about">منابع سخت‌افزاری و بسته امکانات</Link> مدنظرتان ایجاد کنید.</p>
  </>
  )
  },
  {
  step: "۳",
  content: (
  <>
    <h3>حذف فایل‌های اضافی</h3>
    <p>پوشه‌ها و فایل‌های درون پروژه که قصد ندارید در لیارا آپلود شوند (به عنوان مثال پوشه node_modules) را پاک کنید.</p>  
  </>
  )
  },
  {
  step: "۴",
  content: (
  <>
    <h3>تنظیم اسکریپت start</h3>
    <p>در فایل <Important>package.json</Important> موجود در مسیر اصلی پروژه، باید حتماً اسکریپت <Important>start</Important> تعریف شده باشد؛  به عنوان مثال، فایل <Important>package.json</Important> یک پروژه <Important>Vite</Important> می‌تواند به شکل زیر باشد:</p>
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="json">
      {`{
  "name": "react-getting-started",
  "version": "0.1.0",
  "dependencies": {
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "react-scripts": "4.0.3",
    "web-vitals": "^1.1.2"
  },
  "devDependencies": {
    "vite": "^2.4.4", 
    "@vitejs.plugin-react-refresh": "^1.3.1" 
  },
  "scripts": {
    "start": "vite preview",
    "build": "vite build"
  }
}`}
    </Highlight>
    </div>
    <div className="h-2" />
    البته در نظر داشته باشید که برای اجرای موفق پروژه‌های مبتنی بر <Important>vite</Important>، باید قطعه کد زیر به فایل <Important>vite.config.js</Important> اضافه شود:
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="js">
      {`export default {
    // ... rest of configuration
    build: {
        outDir: "build"
    }
}`}
    </Highlight>
    </div>
    <div className="h-2" />
    <p>
      و یا اگر که برنامه خود را با <Important>create-react-app</Important> ساخته‌اید؛ فایل <Important>package.json</Important> می‌تواند مانند قطعه کد زیر باشد:
    </p>
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="json">
      {`{
  "name": "react-getting-started",
  "version": "0.1.0",
  "dependencies": {
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "react-scripts": "4.0.3",
    "web-vitals": "^1.1.2"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build"
  }
}`}
    </Highlight>
    </div>

    
  </>
  )
  },
  {
  step: "۵",
  content: (
  <>
    <h3>زیپ و آپلود پروژه</h3>
    <p>پوشه پروژه را در یک فایل <Important>zip</Important> قرار دهید. فایل را کشیده و در باکس آپلود Liara Console رها کنید.</p>
  </>
  )
  },
  {
  step: "۶",
  content: (
  <>
    <h3>استقرار پروژه</h3>
    <p>مرحله به مرحله استقرار را با Console جلو بروید و شخصی‌سازی‌های لازم را انجام دهید و در نهایت بر روی گزینه استقرار کلیک کنید تا عملیات استقرار، آغاز شود. </p>
  </>
  )
  }

]}/>
  </>,

  <>
  <video
  src="https://files.liara.ir/liara/quick-start/react/react-cli.mp4"
  controls="controls"
  className="block w-full"
  width="100%"
  ></video>
  <div className="h-2" />

  برای استقرار با استفاده از ابزار <Link className="blue-link" href="../../../references/liara-cli/about">Liara CLI</Link> کافیست تا مراحل زیر را طی کنید:
  <Step  steps={[
{
  step: "۱",
  content: (
  <>
    <h3>نصب Liara CLI</h3>
    <p>ترمینال را باز کنید و با اجرای دستور زیر، ابزار Liara CLI را بر روی سیستم خود نصب کنید:</p>
    <div dir='ltr'>
      <Highlight className="bash">
        {`npm install -g @liara/cli`}
      </Highlight>
    </div>
    <div className="h-2" />
    <Alert variant="info">
    <p>
    دقت کنید که <Link className="blue-link" href="https://nodejs.org">npm و NodeJS</Link> باید بر روی سیستم‌عامل‌تان نصب باشد.
    </p>
    </Alert>
    <div className="h-2" />
    <Alert variant="warning">در ویندوز، ترمینال باید بر روی CMD تنظیم باشد.</Alert>
  </>
  )
  },
  {
  step: "۲",
  content: (
  <>
    <h3>لاگین به حساب کاربری</h3>
    <p>با اجرای دستور زیر، وارد حساب کاربری خود در لیارا، شوید:</p>
    <div dir='ltr'>
      <Highlight className="bash">
        {`liara login`}
      </Highlight>
    </div>
  </>
  )
  },
  {
  step: "۳",
  content: (
  <>
    <h3>ایجاد شبکه خصوصی</h3>
    <p>با دستور زیر، <Link className="blue-link" href="../details/private-network">شبکه خصوصی</Link> برنامه خود را ایجاد کنید:</p>
    <div dir='ltr'>
      <Highlight className="bash">
        {`liara network create`}
      </Highlight>
    </div>
    <div className="h-2" />
    <Alert variant="info">اگر که از قبل شبکه خصوصی ایجاد کرده‌اید؛ نیازی به انجام این کار نیست.</Alert>
  </>
  )
  },
  {
  step: "۴",
  content: (
  <>
    <h3>ایجاد برنامه</h3>
    <p>با اجرای دستور زیر، برنامه React خود را ایجاد کنید:</p>
    <div dir='ltr'>
    <Highlight className="bash">
      {`liara create`}
    </Highlight>
    </div>
    <div className="h-2" />
    <Alert variant="info">اگر که از قبل برنامه خود را ایجاد کرده‌اید؛ نیازی به انجام این کار نیست.</Alert>
    <p>در ادامه اجرای این دستور، باید به ترتیب، شناسه، نوع پلتفرم (که باید بر روی react تنظیم شود)، شبکه خصوصی و <Link className="blue-link" href="../details/plans/about">منابع سخت‌افزاری و بسته امکانات برنامه</Link>، مشخص شوند.</p>
  </>
  )
  },
  {
  step: "۵",
  content: (
  <>
    <h3>نادیده گرفتن فایل‌های اضافی</h3>
    <p>برای آپلود نشدن فایل‌های اضافی، از <Important>gitignore.</Important> یا <Important>liaraignore.</Important> استفاده کنید و درون یکی از این دو فایل، اسامی دایرکتوری‌ها و فایل‌های اضافی را بیاورید. به عنوان مثال:</p>
    <div dir='ltr'>
    <Highlight className="gitignore">
      {`node_modules/`}
    </Highlight>
    </div>
  </>
  )
  },
  {
  step: "۶",
  content: (
  <>
        <h3>تنظیم اسکریپت start</h3>
    <p>در فایل <Important>package.json</Important> موجود در مسیر اصلی پروژه، باید حتماً اسکریپت <Important>start</Important> تعریف شده باشد؛  به عنوان مثال، فایل <Important>package.json</Important> یک پروژه <Important>Vite</Important> می‌تواند به شکل زیر باشد:</p>
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="json">
      {`{
  "name": "react-getting-started",
  "version": "0.1.0",
  "dependencies": {
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "react-scripts": "4.0.3",
    "web-vitals": "^1.1.2"
  },
  "devDependencies": {
    "vite": "^2.4.4", 
    "@vitejs.plugin-react-refresh": "^1.3.1" 
  },
  "scripts": {
    "start": "vite preview",
    "build": "vite build"
  }
}`}
    </Highlight>
    </div>
    <div className="h-2" />
    البته در نظر داشته باشید که برای اجرای موفق پروژه‌های مبتنی بر <Important>vite</Important>، باید قطعه کد زیر به فایل <Important>vite.config.js</Important> اضافه شود:
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="js">
      {`export default {
    // ... rest of configuration
    build: {
        outDir: "build"
    }
}`}
    </Highlight>
    </div>
    <div className="h-2" />
    <p>
      و یا اگر که برنامه خود را با <Important>create-react-app</Important> ساخته‌اید؛ فایل <Important>package.json</Important> می‌تواند مانند قطعه کد زیر باشد:
    </p>
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="json">
      {`{
  "name": "react-getting-started",
  "version": "0.1.0",
  "dependencies": {
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "react-scripts": "4.0.3",
    "web-vitals": "^1.1.2"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build"
  }
}`}
    </Highlight>
    </div>
  </>
  )
  },
  {
  step: "۷",
  content: (
  <>
    <h3>استقرار برنامه</h3>
    <p>با اجرای دستور زیر در مسیر اصلی پروژه، برنامه خود را  در لیارا مستقر کنید (بعد از <Important>app--</Important> شناسه برنامه خود را وارد کنید):</p>
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="bash">
      {`liara deploy --app=myapp --platform=react`}
    </Highlight>
    </div>
  </>
  )
  }

]}/>
  </>,

]} 
/>

<br/>   
<Alert variant="info">
<p>
لیارا با اجرای دستور <Important>npm install</Important> تمامی ماژول‌های موجود در فایل <Important>package.json</Important> را نصب می‌کند. پس حتماً اسامی آن‌ها باید در این فایل باشد.
</p>
</Alert>
<div className="h-1" />

<Alert variant="info">
<p>
لیارا به صورت خودکار، در فرایند استقرار برنامه‌های React اسکریپت <Important>build</Important> را برای شما اجرا می‌کند.
</p>
</Alert>
<div className="h-1" />

<Alert variant="success">
<p>
همچنین بخوانید: <Link className="blue-link" href="./how-tos/create-app">استقرار قدم به قدم برنامه‌های React در لیارا</Link>
</p>
</Alert>
</Layout>